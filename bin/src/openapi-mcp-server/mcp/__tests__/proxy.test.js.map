{"version":3,"file":"proxy.test.js","sourceRoot":"","sources":["../../../../../src/openapi-mcp-server/mcp/__tests__/proxy.test.ts"],"names":[],"mappings":"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"}